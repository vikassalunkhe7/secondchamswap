<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script>
        'fetch' in window && 'CSS' in window && CSS.supports('color', 'var(--)') ? '' : location.href = '/badbrowser/'
    </script>
    <title>USwap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0" />
    <meta name="description" content="Uswap.me is a TRON-based decentralized  exchange protocol between any TRC20 tokens." />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="modules/site/main/assets/common.css?1626445100">
</head>

<body>
    <div class="layout" id="App" v-cloak data='{"route_address":"THPMGRqM7asytcp7nMu6MBR8X3dV3NiLa8","tokens":[{"id":"1","symbol":"","address":"","decimals":"6","round":"4","balance":"0"},{"id":"14","symbol":"eft","address":"TG3XANY34mpabHM2DNc5ajhjMJVUQU741Y","decimals":"8","round":"6","balance":"0"},{"id":"3","symbol":"ume","address":"TRkuKAxmWZ4G74MvZnFpoosQZsfvtNpmwH","decimals":"8","round":"4","balance":"0"},{"id":"24","symbol":"lory","address":"TBs7MGVVRQXZo3h1uaUcaxeGQzAQCsEqQT","decimals":"8","round":"2","balance":"0"},{"id":"22","symbol":"lume","address":"TNvgF3Sj2oHKdRGypewWG77NskUvNPoJdj","decimals":"8","round":"2","balance":"0"},{"id":"4","symbol":"usdt","address":"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t","decimals":"6","round":"2","balance":"0"},{"id":"20","symbol":"tusd","address":"TUpMhErZL2fhh4sVNULAbNKLokS4GjC1F4","decimals":"18","round":"2","balance":"0"},{"id":"5","symbol":"btc","address":"TN3W4H6rK2ce4vX9YnFQHwKENnHjoxb3m9","decimals":"8","round":"8","balance":"0"},{"id":"6","symbol":"eth","address":"THb4CqiFdwNHsWsQCs4JhzwjMWys4aqCbF","decimals":"18","round":"6","balance":"0"},{"id":"15","symbol":"ltc","address":"TR3DLthpnDdCGabhVDbD3VMsiJoCXY3bZd","decimals":"8","round":"6","balance":"0"},{"id":"18","symbol":"doge","address":"THbVQp8kMjStKNnf2iCY6NEzThKMK5aBHg","decimals":"8","round":"4","balance":"0"},{"id":"7","symbol":"sun","address":"TKkeiboTkxXKJpbmVFbv4a8ov5rAfRDMf9","decimals":"18","round":"6","balance":"0"},{"id":"19","symbol":"nft","address":"TFczxzPhnThNSqr5by8tvxsdCFRRz6cPNq","decimals":"6","round":"0","balance":"0"},{"id":"21","symbol":"safemoney","address":"TNBrVEzuVYbNbGF2ua3ivSX5Y5V9N4xhax","decimals":"8","round":"0","balance":"0"},{"id":"23","symbol":"jm","address":"TT8VkSkW6igkiRsV5WiJgLrsbVwY5bLLjA","decimals":"8","round":"0","balance":"0"},{"id":"13","symbol":"win","address":"TLa2f6VPqDgRE67v1736s7bJ8Ray5wYjU7","decimals":"6","round":"0","balance":"0"},{"id":"17","symbol":"bnkr","address":"TNo59Khpq46FGf4sD7XSWYFNfYfbc8CqNK","decimals":"6","round":"4","balance":"0"},{"id":"12","symbol":"usdj","address":"TMwFHYXLJaRUPeW6421aqXL4ZEzPRFGkGT","decimals":"18","round":"2","balance":"0"},{"id":"11","symbol":"jst","address":"TCFLL5dx5ZJdKnWuesXxi1VPwjLVmWZZy9","decimals":"18","round":"2","balance":"0"},{"id":"10","symbol":"wbtt","address":"TKfjV9RNKJJCqPvBtK8L7Knykh7DNWvnYt","decimals":"6","round":"2","balance":"0"},{"id":"9","symbol":"klv","address":"TVj7RNVHy6thbM7BWdSe9G6gXwKhjhdNZS","decimals":"6","round":"2","balance":"0"},{"id":"8","symbol":"ht","address":"TDyvndWuvX5xTBwHPYJi7J3Yq8pq8yh62h","decimals":"18","round":"6","balance":"0"},{"id":"2","symbol":"wtrx","address":"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR","decimals":"6","round":"4","balance":"0"},{"id":"16","symbol":"brg","address":"TJvqNiWUN2v2NBG12UhfV7WSvReJkRP3VC","decimals":"6","round":"4","balance":"0"}]}'
        @click="visible.menu = visible.settings = false">
        <div class="header">
            <div class="header__logo"><a href="/"><img src="modules/site/main/assets/images/logo.svg"></a></div>
            <ul class="header__nav">
                <li><a href="/assets/">Assets</a></li>
                <li :class="{active: visible.tab == 'swap'}"><a href="/" @click.prevent="visible.tab = 'swap'; upRate()">Exchange</a></li>
                <li :class="{active: visible.tab == 'liquidity'}"><a href="/" @click.prevent="visible.tab = 'liquidity'">Liquidity</a></li>
                <li><a href="/staking/">Staking</a></li>
                <li><a href="/ref/">Ref</a></li>
                <li><a href="/vote/">Vote</a></li>
                <li><a href="/market/">NFT <sup>v2 BETA</sup></a></li>
                <li><a href="/ido/">IDO</a></li>
                <li><a href="/pairs/">Pairs</a></li>
            </ul>
            <div class="header__grow"></div><button class="header__mode" onclick="document.cookie = 'darkmode=1; path=/; max-age=2592000'; location.reload()"></button>
            <div class="header__tools">
                <div class="header__wallet" v-if="tron.account" @click="visible.modal = 'account'">
                    <div class="header__balance" v-if="tokens.length && tokens[0].balance > 0">{{ round(tokens[0].balance, 2) }} TRX</div>
                    <div class="header__address">{{ tron.account.substr(0,8) + '...' + tron.account.substr(-4) }}</div>
                </div><button class="btn primary" v-if="!tron.account" @click="visible.modal = 'login'">Connect to wallet</button><button class="btn header__cog" :class="{active: visible.settings}" @click.stop="visible.settings = !visible.settings; visible.menu = false"><img :src="'modules/site/main/assets/images/cog' + (visible.settings ? '.a' : '') + '.svg'"></button>
                <button
                    class="btn header__bars" :class="{active: visible.menu}" @click.stop="visible.menu = !visible.menu; visible.settings = false"><img :src="'modules/site/main/assets/images/bars' + (visible.menu ? '.a' : '') + '.svg'"></button>
            </div>
            <div class="dropdown-con" v-if="visible.settings" @click.stop="">
                <div class="dropdown-con__close" @click="visible.settings = false"></div>
                <div class="dropdown-con__section">Transaction Settings</div>
                <div class="dropdown-con__label">Slippage tolerance</div>
                <div class="dropdown-con__inps"><button class="btn btn_inppad" :class="{btn_white: settings.slippage != 0.1, primary: settings.slippage == 0.1}" @click="settings.slippage = 0.1; settings.hand_slippage = ''">0.1%</button><button class="btn btn_inppad" :class="{btn_white: settings.slippage != 0.5, primary: settings.slippage == 0.5}"
                        @click="settings.slippage = 0.5; settings.hand_slippage = ''">0.5%</button><button class="btn btn_inppad" :class="{btn_white: settings.slippage != 1, primary: settings.slippage == 1}" @click="settings.slippage = 1; settings.hand_slippage = ''">1%</button>
                    <input
                        class="inp" v-model.number="settings.hand_slippage" @change="settings.slippage = settings.hand_slippage > 0 ? settings.hand_slippage : settings.slippage; settings.hand_slippage = settings.hand_slippage > 0 ? settings.hand_slippage : ''"
                        size="2" placeholder="other"></div>
                <div class="dropdown-con__label">Transaction deadline</div>
                <div class="dropdown-con__inps"><input class="inp" value="20" size="2" v-model.number="settings.deadline" @change="settings.deadline = settings.deadline > 0 ? settings.deadline : 20"><span>&nbsp;minutes</span></div>
            </div>
            <ul class="dropdown-nav" v-if="visible.menu" @click.stop="">
                <div class="dropdown-nav__mobile">
                    <li><a href="/assets/"><img src="modules/site/main/assets/images/assets.svg"> Assets</a></li>
                    <li :class="{active: visible.tab == 'swap'}"><a href="/" @click.prevent="visible.tab = 'swap'; upRate()"><img src="modules/site/main/assets/images/exchange-icon.svg"> Exchange</a></li>
                    <li :class="{active: visible.tab == 'liquidity'}"><a href="/#/liquidity/" @click.prevent="visible.tab = 'liquidity'"><img src="modules/site/main/assets/images/liquidity.svg"> Liquidity</a></li>
                    <li><a href="/staking/"><img src="modules/site/main/assets/images/staking.svg"> Staking</a></li>
                    <li><a href="/ref/"><img src="modules/site/main/assets/images/ref.svg"> Ref</a></li>
                    <li><a href="/vote/"><img src="modules/site/main/assets/images/vote.svg"> Vote</a></li>
                    <li><a href="/market/"><img src="modules/site/main/assets/images/listing.svg"> NFT</a></li>
                    <li><a href="/ido/"><img src="modules/site/main/assets/images/listing.svg"> IDO</a></li>
                    <li><a href="/pairs/"><img src="modules/site/main/assets/images/charts-pie.svg"> Pairs</a></li>
                    <div class="separator"></div>
                </div>
                <li><a href="https://request.uswap.me/" target="_blank"><img src="modules/site/main/assets/images/listing.svg"> Listing</a></li>
                <li><a href="/guide/" target="_blank"><img src="modules/site/main/assets/images/about.svg"> USwap guide</a></li>
                <li><a href="https://t.me/UswapTRON" target="_blank"><img src="modules/site/main/assets/images/telegram.svg"> Telegram</a></li>
                <li><a href="https://www.slowmist.com/en/security-audit-certificate.html?id=2a002137d6f0b7b2a23aca9251ce5332b0c2f71749c4f07516793e5ad7845c4f" target="_blank"><img src="modules/site/main/assets/images/audit.svg"> Audit 1</a></li>
                <li><a href="modules/site/main/assets/audit2.pdf" target="_blank"><img src="modules/site/main/assets/images/audit.svg"> Audit 2</a></li>
                <li><a href="modules/site/main/assets/whitepaper.pdf" target="_blank"><img src="modules/site/main/assets/images/audit.svg"> White Paper</a></li>
                <li><a href="https://eft.finance/" target="_blank"><img src="modules/site/main/assets/projects/eft.svg"> EFT.finance</a></li>
                <li><a href="https://t.me/Uswap_support" target="_blank"><img src="modules/site/main/assets/images/telegram.svg"> Support</a></li>
                <div class="separator"></div>
                <li><a href="/staking/#/ume/ume" target="_blank"><img src="modules/site/main/assets/projects/ume.svg"> UME Farming</a></li>
                <li><a href="/staking/#/ume/eft" target="_blank"><img src="modules/site/main/assets/projects/eft.svg"> EFT Farming</a></li>
                <div class="separator"></div>
                <li><a href="/ume/"><img src="modules/site/main/assets/images/staking.svg"> Staking UME</a></li>
                <li><a href="/eft/"><img src="modules/site/main/assets/images/staking.eft.svg"> Staking EFT</a></li>
                <div class="separator"></div>
                <li><a href="?lang=en" class="lang__item"><img src="https://api.smartcontract.ru/cdn/flags/en.svg" width="20"> English</a></li>
                <li><a href="?lang=ru" class="lang__item"><img src="https://api.smartcontract.ru/cdn/flags/ru.svg" width="20"> Русский</a></li>
                <li><a href="?lang=zh" class="lang__item"><img src="https://api.smartcontract.ru/cdn/flags/zh.svg" width="20"> 中文</a></li>
            </ul>
        </div>
        <div class="form">
            <div class="form__wrap" v-if="visible.tab == 'swap'">
                <div class="form__swap">
                    <ul class="form__nav">
                        <li class="active"><a href="/" @click.prevent="visible.tab = 'swap'; upRate()">Exchange</a></li>
                        <li><a href="/" @click.prevent="visible.tab = 'liquidity'">Liquidity</a></li>
                    </ul>
                    <div class="inp-box">
                        <div class="inp-box__head">
                            <div class="inp-box__label">From</div>
                            <div class="inp-box__balance" v-if="swap.from">Balance: <b>{{ round(FromToken.balance, FromToken.decimals) }}</b></div>
                        </div>
                        <div class="inp-box__wrap"><input class="inp-box__inp" placeholder="0" :disabled="!swap.from" v-model.number="swap.amount_from" @input="upRate(true)"><button class="inp-box__max" v-if="swap.from && swap.amount_from < (swap.from == 'trx' ? (FromToken.balance > 2 ? FromToken.balance - 2 : 0) : FromToken.balance)"
                                @click="swap.amount_from = swap.from == 'trx' ? (FromToken.balance > 2 ? FromToken.balance - 2 : 0) : FromToken.balance; upRate(true)">Max</button>
                            <div class="inp-box__token" :class="{empty: !swap.from}" @click="visible.select_token_to = false; visible.modal = 'select_token'"><img v-if="swap.from" :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><span v-if="swap.from">{{ swap.from.toUpperCase() }}</span><span v-if="!swap.from">Select a token</span></div>
                        </div>
                    </div>
                    <div class="form__to" @click="swapCurrencies()"></div>
                    <div class="inp-box empty">
                        <div class="inp-box__head">
                            <div class="inp-box__label">To</div>
                            <div class="inp-box__balance" v-if="swap.to">Balance: <b>{{ round(ToToken.balance, ToToken.decimals) }}</b></div>
                        </div>
                        <div class="inp-box__wrap"><input class="inp-box__inp" placeholder="0" :disabled="!swap.to" v-model.number="swap.amount_to" @input="upRate(false)"><button class="inp-box__max" v-if="swap.to && swap.amount_to < (swap.to == 'trx' ? (ToToken.balance > 2 ? ToToken.balance - 2 : 0) : ToToken.balance)"
                                @click="swap.amount_to = swap.to == 'trx' ? (ToToken.balance > 2 ? ToToken.balance - 2 : 0) : ToToken.balance; upRate(false)">Max</button>
                            <div class="inp-box__token" :class="{empty: !swap.to}" @click="visible.select_token_to = true; visible.modal = 'select_token'"><img v-if="swap.to" :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><span v-if="swap.to">{{ swap.to.toUpperCase() }}</span><span v-if="!swap.to">Select a token</span></div>
                        </div>
                    </div>
                    <div class="params form__params" v-if="swap.from && swap.to && swap.amount_from > 0 && swap.amount_to > 0">
                        <div class="params__item">
                            <div class="params__name">Price</div>
                            <div class="params__value">{{ round(swap.amount_to / swap.amount_from, ToToken.round) }}&nbsp;<a :href="'https://tronscan.org/#/token20/' + (ToToken.address || 'TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR')" target="_blank">{{ ToToken.symbol.toUpperCase() }}</a>&nbsp;per&nbsp;
                                <a
                                    :href="'https://tronscan.org/#/token20/' + (FromToken.address || 'TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR')" target="_blank">{{ FromToken.symbol.toUpperCase() }}</a>
                            </div>
                        </div>
                        <div class="params__item">
                            <div class="params__name"></div>
                            <div class="params__value">{{ round(swap.amount_from / swap.amount_to, FromToken.round) }}&nbsp;<a :href="'https://tronscan.org/#/token20/' + (FromToken.address || 'TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR')" target="_blank">{{ FromToken.symbol.toUpperCase() }}</a>&nbsp;per&nbsp;
                                <a
                                    :href="'https://tronscan.org/#/token20/' + (ToToken.address || 'TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR')" target="_blank">{{ ToToken.symbol.toUpperCase() }}</a>
                            </div>
                        </div>
                    </div><button class="btn primary form__submit" v-if="!tron.account" @click="visible.modal = 'login'">Connect to wallet</button>
                    <div v-else>
                        <div class="form__error" v-if="!swap.from || !swap.to">Select a token</div>
                        <div class="form__error" v-else-if="!(swap.amount_from > 0 && swap.amount_to > 0)">Enter amount</div>
                        <div class="form__error" v-else-if="swap.amount_from > FromToken.balance">Insufficient balance</div>
                        <div class="form__error" v-else-if="swap.impact >= 5">Price Impact is so big</div>
                        <div v-else><button class="btn primary form__submit" @click="visible.modal = swap.impact >= 5 ? 'big_impact' : 'swap'">Swap</button></div>
                    </div>
                </div>
                <div class="form__info" v-if="swap.from && swap.to">
                    <div class="params">
                        <div class="params__item">
                            <div class="params__name">{{ swap.last_change_from ? 'Minimum received' : 'Maximum sold' }}</div>
                            <div class="params__value">{{ swap.last_change_from ? round(swap.amount_to - (swap.amount_to / 100 * settings.slippage), FromToken.round) : round(swap.amount_from + (swap.amount_from / 100 * settings.slippage), ToToken.round) }} {{ swap.last_change_from
                                ? ToToken.symbol.toUpperCase() : FromToken.symbol.toUpperCase() }}</div>
                        </div>
                        <div class="params__item">
                            <div class="params__name">Price impact</div>
                            <div class="params__value" :class="{success: swap.impact < 1, warning: swap.impact >= 3 && swap.impact < 5, error: swap.impact >= 5}">{{ swap.impact
                                < 0.01 ? '<' + 0.01 : swap.impact }}%</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">Liquidity Provider Fee</div>
                                <div class="params__value">{{ round(swap.amount_from * 0.003, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }}</div>
                            </div>
                            <div class="params__item" v-if="settings.slippage != 0.5">
                                <div class="params__name">Slippage tolerance</div>
                                <div class="params__value">{{ settings.slippage }}%</div>
                            </div>
                            <div class="params__item" v-if="settings.deadline != 3">
                                <div class="params__name">Transaction deadline</div>
                                <div class="params__value">{{ settings.deadline }} minutes</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form__wrap" v-if="visible.tab == 'liquidity'">
                    <div class="form__swap">
                        <ul class="form__nav">
                            <li><a href="/" @click.prevent="visible.tab = 'swap'; upRate()">Exchange</a></li>
                            <li class="active"><a href="/" @click.prevent="visible.tab = 'liquidity'">Liquidity</a></li>
                        </ul><button class="btn primary form__submit" v-if="!tron.account" @click="visible.modal = 'login'">Connect to wallet</button><button v-else class="btn primary form__submit form__submit_nm" @click="visible.tab = 'add'">Add Liquidity</button>
                        <div
                            class="liqlist">
                            <div class="liqlist__title">Your Liquidity</div>
                            <div class="liqlist__empty" v-if="!liquidities.length">Empty</div>
                            <div class="liqlist__item" v-for="liquidity in liquidities" :class="{active: swap.from == liquidity.from && swap.to == liquidity.to}">
                                <div class="liqlist__head" @click="swap.from = liquidity.from; swap.to = swap.to == liquidity.to ? '' : liquidity.to;"><img class="liqlist__token" :src="'modules/site/main/assets/tokens/' + liquidity.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><img class="liqlist__token" :src="'modules/site/main/assets/tokens/' + liquidity.to + '.png'"
                                        onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                                    <div class="liqlist__name">{{ liquidity.from.toUpperCase() }}/{{ liquidity.to.toUpperCase() }}</div>
                                    <div class="liqlist__tool">Manage</div>
                                </div>
                                <div class="liqlist__body">
                                    <div class="params liqlist__params">
                                        <div class="params__item">
                                            <div class="params__name">Your pool tokens:</div>
                                            <div class="params__value">{{ round(liquidity.supply, 8) }}</div>
                                        </div>
                                        <div class="params__item">
                                            <div class="params__name">Pooled {{ liquidity.from.toUpperCase() }}:</div>
                                            <div class="params__value">{{ round(swap.reserve_from * (liquidity.supply / swap.total_supply), FromToken.round) }} {{ liquidity.from.toUpperCase() }}</div>
                                        </div>
                                        <div class="params__item">
                                            <div class="params__name">Pooled {{ liquidity.to.toUpperCase() }}:</div>
                                            <div class="params__value">{{ round(swap.reserve_to * (liquidity.supply / swap.total_supply), FromToken.round) }} {{ liquidity.to.toUpperCase() }}</div>
                                        </div>
                                        <div class="params__item">
                                            <div class="params__name">Your pool share:</div>
                                            <div class="params__value">{{ round(liquidity.supply / swap.total_supply * 100, 8) }}%</div>
                                        </div>
                                    </div>
                                    <div class="liqlist__btns"><button class="btn btn_red" @click="visible.tab = 'add'">Add</button><button class="btn btn_red" @click="visible.tab = 'remove'">Remove</button></div>
                                </div>
                            </div>
                    </div>
                </div>
                <div class="form__info">
                    <div class="params">
                        <div class="params__item" v-if="settings.deadline != 3">
                            <div class="params__name">Transaction deadline</div>
                            <div class="params__value">{{ settings.deadline }} minutes</div>
                        </div>
                        <div class="params__item">
                            <div class="params__name">Total liquidity value</div>
                            <div class="params__value">{{ parseInt(info.total_trx_liquidity).toLocaleString() }} TRX</div>
                        </div>
                        <div class="params__item">
                            <div class="params__name"></div>
                            <div class="params__value">≈ {{ parseInt(info.total_usd_liquidity).toLocaleString() }} USD</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form__wrap" v-if="visible.tab == 'add'">
                <div class="form__swap"><a href="#" class="form__back" @click.prevent="visible.tab = 'liquidity'">Add Liquidity</a>
                    <div class="inp-box">
                        <div class="inp-box__head">
                            <div class="inp-box__label">Input</div>
                            <div class="inp-box__balance" v-if="swap.from">Balance: <b>{{ round(FromToken.balance, FromToken.decimals) }}</b></div>
                        </div>
                        <div class="inp-box__wrap"><input class="inp-box__inp" placeholder="0" :disabled="!swap.from" v-model.number="swap.amount_from" @input="upRate(true)"><button class="inp-box__max" v-if="swap.from && swap.amount_from < FromToken.balance" @click="swap.amount_from = FromToken.balance; upRate(true)">Max</button>
                            <div
                                class="inp-box__token" :class="{empty: !swap.from}" @click="visible.select_token_to = false; visible.modal = 'select_token'"><img v-if="swap.from" :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><span v-if="swap.from">{{ swap.from.toUpperCase() }}</span><span v-if="!swap.from">Select a token</span></div>
                    </div>
                </div>
                <div class="form__plus"></div>
                <div class="inp-box empty">
                    <div class="inp-box__head">
                        <div class="inp-box__label">Input</div>
                        <div class="inp-box__balance" v-if="swap.to">Balance: <b>{{ round(ToToken.balance, ToToken.decimals) }}</b></div>
                    </div>
                    <div class="inp-box__wrap"><input class="inp-box__inp" placeholder="0" :disabled="!swap.to" v-model.number="swap.amount_to" @input="upRate(false)"><button class="inp-box__max" v-if="swap.to && swap.amount_to < ToToken.balance" @click="swap.amount_to = ToToken.balance; upRate(false)">Max</button>
                        <div
                            class="inp-box__token" :class="{empty: !swap.to}" @click="visible.select_token_to = true; visible.modal = 'select_token'"><img v-if="swap.to" :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><span v-if="swap.to">{{ swap.to.toUpperCase() }}</span><span v-if="!swap.to">Select a token</span></div>
                </div>
            </div>
            <div class="form__table" v-if="swap.from && swap.to">
                <div>Price and pool share</div>
                <ul>
                    <li><b>{{ round(swap.amount_to / swap.amount_from, ToToken.round) }}</b><span>{{ swap.to.toUpperCase() }} per {{ swap.from.toUpperCase() }}</span></li>
                    <li><b>{{ round(swap.amount_from / swap.amount_to, FromToken.round) }}</b><span>{{ swap.from.toUpperCase() }} per {{ swap.to.toUpperCase() }}</span></li>
                    <li><b>{{ swap.share < 0.1 ? '< 0.1' : round(swap.share, 2) }}%</b><span>Share of Pool</span></li>
                </ul>
            </div>
            <div class="form__table" v-if="swap.from && swap.to">
                <div><span>You position</span><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">                    {{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }}
                </div>
                <ul>
                    <li><span>{{ swap.from.toUpperCase() }}</span><b>{{ round(swap.reserve_from * (swap.supply / swap.total_supply), FromToken.round) }}</b></li>
                    <li><span>{{ swap.to.toUpperCase() }}</span><b>{{ round(swap.reserve_to * (swap.supply / swap.total_supply), FromToken.round) }}</b></li>
                    <li><span>Pool token</span><b>{{ round(swap.supply, 8) }}</b></li>
                </ul>
            </div><button class="btn primary form__submit" v-if="!tron.account" @click="visible.modal = 'login'">Connect to wallet</button>
            <div v-else>
                <div class="form__error" v-if="!swap.from || !swap.to">Select a token</div>
                <div class="form__error" v-else-if="!(swap.amount_from > 0 && swap.amount_to > 0)">Enter amount</div>
                <div class="form__error" v-else-if="swap.amount_from > FromToken.balance">Insufficient balance</div>
                <div v-else><button class="btn primary form__submit" @click="visible.modal = 'add'">Supply</button></div>
            </div>
        </div>
        <div class="form__info" v-if="swap.from && swap.to">
            <div class="form__desc">By adding liquidity you all earn 0.3% of all trades on this pair proportional to your share of the pool. Fees are added to the pool, accrue in real time and can be claimed by withdrawing your liquidity.</div>
        </div>
    </div>
    <div class="form__wrap" v-if="visible.tab == 'remove'">
        <div class="form__swap"><a href="#" class="form__back" @click.prevent="visible.tab = 'liquidity'">Remove Liquidity</a>
            <div class="remliq">
                <div class="remliq__head">
                    <div class="remliq__label">Remove Ammount</div>
                    <div class="remliq__value">{{ swap.remove }}%</div>
                </div>
                <div class="remliq__range">
                    <div class="remliq__progress" :style="{width: swap.remove + '%'}"></div>
                    <div class="remliq__point" :style="{left: swap.remove + '%'}" v-range @input="swap.remove = $event.value"></div>
                </div>
                <div class="remliq__btns"><button class="btn btn_red" @click="swap.remove = 25">25%</button><button class="btn btn_red" @click="swap.remove = 50">50%</button><button class="btn btn_red" @click="swap.remove = 75">75%</button><button class="btn btn_red" @click="swap.remove = 100">MAX</button></div>
            </div>
            <div class="tokamounts">
                <div class="tokamounts__item">
                    <div class="tokamounts__value">{{ round(swap.remove * (swap.supply / swap.total_supply) * swap.reserve_from / 100, FromToken.round) }}</div>
                    <div class="tokamounts__name"><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"> {{ swap.from.toUpperCase() }}
                    </div>
                </div>
                <div class="tokamounts__item">
                    <div class="tokamounts__value">{{ round(swap.remove * (swap.supply / swap.total_supply) * swap.reserve_to / 100, ToToken.round) }}</div>
                    <div class="tokamounts__name"><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"> {{ swap.to.toUpperCase() }}
                    </div>
                </div>
            </div>
            <div class="form__table">
                <div><span>You position</span><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">                    {{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }}
                </div>
                <ul>
                    <li><span>{{ swap.from.toUpperCase() }}</span><b>{{ round(swap.reserve_from * (swap.supply / swap.total_supply), FromToken.round) }}</b></li>
                    <li><span>{{ swap.to.toUpperCase() }}</span><b>{{ round(swap.reserve_to * (swap.supply / swap.total_supply), ToToken.round) }}</b></li>
                    <li><span>Pool token</span><b>{{ round(swap.supply, 8).replace(/0+$/, '') }}</b></li>
                </ul>
            </div>
            <div class="params form__params">
                <div class="params__item">
                    <div class="params__name">{{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }} Burned</div>
                    <div class="params__value">{{ round(swap.remove * swap.supply / 100, 8) }}</div>
                </div>
                <div class="params__item">
                    <div class="params__name">Price</div>
                    <div class="params__value">{{ round(swap.reserve_from / swap.reserve_to, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }} per {{ ToToken.symbol.toUpperCase() }}</div>
                </div>
            </div><button class="btn primary form__submit" v-if="!tron.account" @click="visible.modal = 'login'">Connect to wallet</button><button v-else class="btn primary form__submit" @click="visible.modal = 'remove'">Remove</button></div>
    </div>
    </div>
    <div class="notices">
        <div class="notice" :class="notice.type" v-for="(notice, index) in notices">
            <div class="notice__close" @click="notice.close()"></div>
            <div class="notice__text">{{ notice.text }}</div>
            <div class="notice__footer" v-if="notice.link || notice.status"><a :href="notice.link" class="notice__link" target="_blank" v-if="notice.link">{{ notice.link_label || notice.link }}</a><span class="notice__status" v-if="notice.status">{{ notice.status }}</span></div>
        </div>
    </div>
    <div class="modal" v-if="visible.modal">
        <div class="modal__wrap" v-if="visible.modal == 'login'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Connect a wallet</div>
            <div class="modal__body">
                <ul class="providers">
                    <li @click="visible.modal = 'login_tronlink'"><img class="providers__icon" src="modules/site/main/assets/images/tronlink.svg">
                        <div class="providers__name">TronLink</div>
                        <div class="providers__status">Disconnected</div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="modal__wrap" v-if="visible.modal == 'login_tronlink'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Initializing...</div>
            <div class="modal__body">
                <div class="waiting">
                    <div class="waiting__icon"><img src="modules/site/main/assets/images/tronlink.svg"></div>
                    <div class="waiting__subtitle">Please login to your <b>TronLink</b> wallet</div>
                </div>
            </div>
        </div>
        <div class="modal__wrap" v-if="visible.modal == 'account'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Account</div>
            <div class="modal__body">
                <div class="account-box">
                    <div class="account-box__label">Connected with TronLink</div>
                    <div class="account-box__wrap"><img class="providers__icon" src="modules/site/main/assets/images/tronlink.svg">
                        <div class="account-box__address">{{ tron.account.substr(0,8) + '...' + tron.account.substr(-4) }}</div><button class="btn btn_white account-box__change" @click="visible.modal = 'login'">Change</button></div>
                    <div class="account-box__tools"><a :href="'https://tronscan.org/#/address/' + tron.account" target="_blank" @click.prevent="copyText(tron.account)" class="account-box__copy">Copy address</a><a :href="'https://tronscan.org/#/address/' + tron.account" target="_blank"
                            class="account-box__link">View on TronScan</a></div>
                </div>
            </div>
        </div>
        <div class="modal__wrap" v-if="visible.modal == 'select_token'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Select a token</div>
            <div class="modal__body">
                <div class="select-token"><input class="inp select-token__filter" v-model="visible.select_token_search" placeholder="Search by name">
                    <div class="select-token__head"><span class="select-token__head-label">Token name</span></div>
                    <ul class="select-token__list">
                        <li v-for="token in tokens" v-show="token.symbol != 'wtrx' && token.symbol.toLowerCase().indexOf(visible.select_token_search.toLowerCase()) >= 0 && token.symbol != (visible.select_token_to ? swap.from : swap.to)" @click="swap[visible.select_token_to ? 'to' : 'from'] = token.symbol; visible.modal = ''; upRate()"><img class="select-token__icon" :src="'modules/site/main/assets/tokens/' + token.symbol + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                            <div class="select-token__name">{{ token.symbol.toUpperCase() }}</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modal__wrap" v-if="visible.modal == 'big_impact'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Are you sure?</div>
            <div class="modal__body">
                <div class="conswap">
                    <div class="conswap__warning">
                        Price Impact is so big <span>{{ swap.impact }}%</span></div>
                    <ul class="conswap__as">
                        <li><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                            <div>{{ round(swap.amount_from, FromToken.decimals) }}</div><span>{{ swap.from.toUpperCase() }}</span></li>
                        <li><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                            <div>{{ round(swap.amount_to, ToToken.decimals) }}</div><span>{{ swap.to.toUpperCase() }}</span></li>
                    </ul>
                    <div class="params conswap__params">
                        <div class="params__item">
                            <div class="params__name">Price</div>
                            <div class="params__value">{{ round(swap.amount_from / swap.amount_to, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }} per {{ ToToken.symbol.toUpperCase() }}</div>
                        </div>
                    </div>
                    <div class="conswap__subgroup"><button class="btn primary conswap__submit" @click="visible.modal = 'swap'">Yes, continue</button><button class="btn primary conswap__submit" @click="visible.modal = ''">Cancel</button></div>
                </div>
            </div>
        </div>
        <div class="modal__wrap" v-if="visible.modal == 'swap'">
            <div class="modal__close" @click="visible.modal = ''"></div>
            <div class="modal__title">Confirm Swap</div>
            <div class="modal__body">
                <div class="conswap">
                    <ul class="conswap__as">
                        <li><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                            <div>{{ round(swap.amount_from, FromToken.decimals) }}</div><span>{{ swap.from.toUpperCase() }}</span></li>
                        <li><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                            <div>{{ round(swap.amount_to, ToToken.decimals) }}</div><span>{{ swap.to.toUpperCase() }}</span></li>
                    </ul>
                    <div class="params conswap__params">
                        <div class="params__item">
                            <div class="params__name">Price</div>
                            <div class="params__value">{{ round(swap.amount_from / swap.amount_to, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }} per {{ ToToken.symbol.toUpperCase() }}</div>
                        </div>
                        <div class="params__item">
                            <div class="params__name">{{ swap.last_change_from ? 'Minimum received' : 'Maximum sold' }}</div>
                            <div class="params__value">{{ swap.last_change_from ? round(swap.amount_to - (swap.amount_to / 100 * settings.slippage), FromToken.round) : round(swap.amount_from + (swap.amount_from / 100 * settings.slippage), ToToken.round) }} {{ swap.last_change_from
                                ? ToToken.symbol.toUpperCase() : FromToken.symbol.toUpperCase() }}</div>
                        </div>
                        <div class="params__item">
                            <div class="params__name">Price impact</div>
                            <div class="params__value" :class="{success: swap.impact < 1, warning: swap.impact >= 3 && swap.impact < 5, error: swap.impact >= 5}">{{ swap.impact
                                < 0.01 ? '<' + 0.01 : swap.impact }}%</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">Liquidity Provider Fee</div>
                                <div class="params__value">{{ round(swap.amount_from * 0.003, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }}</div>
                            </div>
                            <div class="params__item" v-if="settings.slippage != 0.5">
                                <div class="params__name">Slippage tolerance</div>
                                <div class="params__value">{{ settings.slippage }}%</div>
                            </div>
                            <div class="params__item" v-if="settings.deadline != 3">
                                <div class="params__name">Transaction deadline</div>
                                <div class="params__value">{{ settings.deadline }} minutes</div>
                            </div>
                        </div><button class="btn primary conswap__submit" @click="swaped()">Confirm Swap</button></div>
                </div>
            </div>
            <div class="modal__wrap" v-if="visible.modal == 'swap_wait'">
                <div class="modal__close" @click="visible.modal = ''"></div>
                <div class="modal__title">Waiting for Confirmation</div>
                <div class="modal__body">
                    <div class="waiting">
                        <div class="waiting__icon"><img src="modules/site/main/assets/images/loader.svg"></div>
                        <div class="waiting__title">Swaping {{ round(swap.amount_from, FromToken.decimals) }} {{ swap.from.toUpperCase() }} for {{ round(swap.amount_to, ToToken.decimals) }} {{ swap.to.toUpperCase() }}</div>
                        <div class="waiting__subtitle">Confirm this transaction in your wallet</div>
                    </div>
                </div>
            </div>
            <div class="modal__wrap" v-if="visible.modal == 'add'">
                <div class="modal__close" @click="visible.modal = ''"></div>
                <div class="modal__title">You will receive</div>
                <div class="modal__body">
                    <div class="conswap">
                        <div class="conswap__lwrap">
                            <div class="conswap__size"><span>{{ round(Math.min(swap.amount_from * swap.total_supply / swap.reserve_from, swap.amount_to * swap.total_supply / swap.reserve_to), 8) }}</span><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                                <img
                                    :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"></div>
                            <div class="conswap__label">{{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }} Pool Tokens</div>
                            <div class="conswap__desc">Output is estimated. If the price changes by more than 0.5% your transaction will revert.</div>
                        </div>
                        <div class="params conswap__params">
                            <div class="params__item">
                                <div class="params__name">{{ swap.from.toUpperCase() }} Deposited</div>
                                <div class="params__value"><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"> {{ round(swap.amount_from, FromToken.decimals) }}</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">{{ swap.to.toUpperCase() }} Deposited</div>
                                <div class="params__value"><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'"> {{ round(swap.amount_to, ToToken.decimals) }}</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">Rates</div>
                                <div class="params__value">1 {{ swap.from.toUpperCase() }} = {{ round(swap.amount_to / swap.amount_from, ToToken.round) }} {{ swap.to.toUpperCase() }}</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">&nbsp;</div>
                                <div class="params__value">1 {{ swap.to.toUpperCase() }} = {{ round(swap.amount_from / swap.amount_to, FromToken.round) }} {{ swap.from.toUpperCase() }}</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">Share of Pool:</div>
                                <div class="params__value">{{ round(swap.share, 8) }}%</div>
                            </div>
                        </div><button class="btn primary conswap__submit" @click="supply()">Confirm Supply</button></div>
                </div>
            </div>
            <div class="modal__wrap" v-if="visible.modal == 'add_wait'">
                <div class="modal__close" @click="visible.modal = ''"></div>
                <div class="modal__title">Waiting for Confirmation</div>
                <div class="modal__body">
                    <div class="waiting">
                        <div class="waiting__icon"><img src="modules/site/main/assets/images/loader.svg"></div>
                        <div class="waiting__title">Supplying {{ round(swap.amount_from, FromToken.decimals) }} {{ swap.from.toUpperCase() }} and {{ round(swap.amount_to, ToToken.decimals) }} {{ swap.to.toUpperCase() }}</div>
                        <div class="waiting__subtitle">Confirm this transaction in your wallet</div>
                    </div>
                </div>
            </div>
            <div class="modal__wrap" v-if="visible.modal == 'remove'">
                <div class="modal__close" @click="visible.modal = ''"></div>
                <div class="modal__title">You will remove</div>
                <div class="modal__body">
                    <div class="conswap">
                        <ul class="conswap__as conswap__as_plus">
                            <li><img :src="'modules/site/main/assets/tokens/' + swap.from + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                                <div>{{ round(swap.remove * (swap.supply / swap.total_supply) * swap.reserve_from / 100, FromToken.round) }}</div><span>{{ swap.from.toUpperCase() }}</span></li>
                            <li><img :src="'modules/site/main/assets/tokens/' + swap.to + '.png'" onerror="this.src = 'modules/site/main/assets/tokens/token.png'">
                                <div>{{ round(swap.remove * (swap.supply / swap.total_supply) * swap.reserve_to / 100, ToToken.round) }}</div><span>{{ swap.to.toUpperCase() }}</span></li>
                        </ul>
                        <div class="params conswap__params">
                            <div class="params__item">
                                <div class="params__name">{{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }} Burned</div>
                                <div class="params__value">{{ round(swap.remove * swap.supply / 100, 8) }}</div>
                            </div>
                            <div class="params__item">
                                <div class="params__name">Price</div>
                                <div class="params__value">{{ round(swap.reserve_from / swap.reserve_to, FromToken.round) }} {{ FromToken.symbol.toUpperCase() }} per {{ ToToken.symbol.toUpperCase() }}</div>
                            </div>
                        </div><button class="btn primary conswap__submit" @click="remove()">Confirm Remove</button></div>
                </div>
            </div>
            <div class="modal__wrap" v-if="visible.modal == 'remove_wait'">
                <div class="modal__close" @click="visible.modal = ''"></div>
                <div class="modal__title">Waiting for Confirmation</div>
                <div class="modal__body">
                    <div class="waiting">
                        <div class="waiting__icon"><img src="modules/site/main/assets/images/loader.svg"></div>
                        <div class="waiting__title">Remove {{ swap.remove * swap.supply / 100 }} {{ swap.from.toUpperCase() }}/{{ swap.to.toUpperCase() }}</div>
                        <div class="waiting__subtitle">Confirm this transaction in your wallet</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.min.js"></script>
    <script src="modules/site/main/assets/components.js?1624535633"></script>
    <script src="modules/site/main/assets/common.js?1612803808"></script>
</body>

</html>